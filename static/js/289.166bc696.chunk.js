"use strict";(self.webpackChunkmy_app_ts=self.webpackChunkmy_app_ts||[]).push([[289],{2289:function(e,s,r){r.r(s),r.d(s,{UsersContainer:function(){return T},default:function(){return q}});var n=r(5671),o=r(3144),t=r(9340),a=r(5716),i=r(364),l=r(8060),u=r(2791),c=r(5987),p="Users_wrapper__BMtEF",g="Users_searching__iXrzY",h=r(3504),f=r(3193),d="User_avatar__Kw98j",m="User_wrapper__cboOo",x="User_avaWrapper__jQE6H",P="User_button__F-LrC",w="User_nameBlock__55pCM",v=r(6151),j=r(7621),U=r(184),_=["user"],C=function(e){var s=e.user,r=(0,c.Z)(e,_);return(0,U.jsxs)(j.Z,{sx:{minWidth:300,minHeight:120,marginBottom:3},children:[(0,U.jsxs)("div",{className:m,children:[(0,U.jsx)("div",{className:x,children:(0,U.jsx)(h.rU,{to:"/profile/"+s.id,children:(0,U.jsx)("img",{alt:"ava",src:null!==s.photos.small?s.photos.small:f,className:d})})}),(0,U.jsxs)("div",{className:w,children:[(0,U.jsx)("div",{children:s.name}),(0,U.jsx)("div",{children:s.status})]})]}),(0,U.jsx)("div",{className:P,children:s.followed?(0,U.jsx)(v.Z,{variant:"outlined",disabled:r.followInProgress.some((function(e){return e===s.id})),onClick:function(){r.unfollow(s.id)},children:"Unfollow"}):(0,U.jsx)(v.Z,{variant:"contained",disabled:r.followInProgress.some((function(e){return e===s.id})),onClick:function(){r.follow(s.id)},children:"Follow"})})]})},Z=r(885),S=r(4554),z=r(5711),b=r(1703),k=function(e){var s=e.onSearch,r=(0,u.useState)(""),n=(0,Z.Z)(r,2),o=n[0],t=n[1],a=I(o,500);return(0,u.useEffect)((function(){s(a)}),[a]),(0,U.jsxs)(S.Z,{sx:{display:"flex",alignItems:"flex-end",marginBottom:2},children:[(0,U.jsx)(b.Z,{sx:{color:"action.active",mr:1,my:.5}}),(0,U.jsx)(z.Z,{id:"input-with-sx",label:"Search user",variant:"standard",value:o,onChange:function(e){return t(e.currentTarget.value)}})]})},I=function(e,s){var r=(0,u.useState)(e),n=(0,Z.Z)(r,2),o=n[0],t=n[1];return(0,u.useEffect)((function(){var r=setTimeout((function(){t(e)}),s);return function(){clearTimeout(r)}}),[e]),o},y=r(7246),N=r(1889),F=["totalUsersCount","currentPage","onPageChanged","pageSize"],B=function(e){var s=e.totalUsersCount,r=e.currentPage,n=e.onPageChanged,o=e.pageSize,t=(0,c.Z)(e,F);return(0,U.jsxs)("div",{className:p,children:[(0,U.jsxs)("div",{className:g,children:[(0,U.jsx)(k,{onSearch:t.onSearchUser}),(0,U.jsx)(y.Z,{count:Math.ceil(s/o),page:r,onChange:n})]}),(0,U.jsx)(N.ZP,{container:!0,spacing:4,children:t.users.map((function(e){return(0,U.jsx)(N.ZP,{item:!0,children:(0,U.jsx)(C,{user:e,follow:t.follow,unfollow:t.unfollow,followInProgress:t.followInProgress},e.id)},e.id)}))})]})},E=r(7781),M=r(7482),T=function(e){(0,t.Z)(r,e);var s=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return(e=s.call.apply(s,[this].concat(t))).onPageChanged=function(s,r){e.props.setCurrentPage(r),e.props.getUsers(r,e.props.pageSize,e.props.term)},e.onSearchUser=function(s){e.props.getUsers(1,e.props.pageSize,s)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize,"")}},{key:"render",value:function(){return(0,U.jsxs)(U.Fragment,{children:[this.props.isFetching?(0,U.jsx)(S.Z,{sx:{width:"100%"},children:(0,U.jsx)(M.Z,{})}):null,(0,U.jsx)(B,{users:this.props.users,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,followInProgress:this.props.followInProgress,onSearchUser:this.onSearchUser})]})}}]),r}(u.Component),q=(0,E.qC)((0,i.$j)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followInProgress:e.usersPage.followInProgress,term:e.usersPage.term}}),{follow:l.ZN,unfollow:l.fv,setCurrentPage:l.D4,getUsers:l.Rf,searchUser:l.qz}))(T)},3193:function(e,s,r){e.exports=r.p+"static/media/userPhoto.63bc11842825a41ab2f9.png"}}]);
//# sourceMappingURL=289.166bc696.chunk.js.map